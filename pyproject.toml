[build-system]
requires = ["setuptools>=42", "wheel", "setuptools_scm[toml]>=3.4"]
build-backend = "setuptools.build_meta"

# Enables the usage of setuptools_scm
[tool.setuptools_scm]
"root" = "."

[tool.isort]
profile = "black"
skip_glob = [
    "src/usdb_syncer/gui/forms",
    "src/usdb_syncer/gui/resources",
    "src/resources_rc.py",
]

[tool.black]
skip-magic-trailing-comma = true
extend-exclude = [
    "src/usdb_syncer/gui/forms",
    "src/usdb_syncer/gui/resources",
    "src/resources_rc.py",
]

[tool.pylint.master]
ignore-paths = [
    "src/usdb_syncer/gui/forms",
    "src/usdb_syncer/gui/resources",
    "src/resources_rc.py",
    "venv",
    ".tox",
]
# Add McCabe code complexity checker
load-plugins = """
    pylint.extensions.mccabe
    """

[tool.pylint.basic]
good-names = ["mw"]

[tool.pylint.messages_control]
extension-pkg-whitelist = ["PySide6"]
disable = [
    "too-few-public-methods",
    "logging-fstring-interpolation",
    "too-many-instance-attributes",
    "too-many-arguments",
    "missing-function-docstring",
    # will want to remove these in the future
    "fixme",
    "line-too-long",
    "bare-except",
    "pointless-string-statement",
    "too-many-locals",
    "too-many-return-statements",
    "too-many-branches",
    "too-complex",
    "too-many-nested-blocks",
    "too-many-statements",
]

[tool.pylint.similarities]
# Exclude the following from code duplication checks
ignore-comments = "yes"
ignore-docstrings = "yes"
ignore-imports = "yes"
ignore-signatures = "yes"

[tool.mypy]
ignore_missing_imports = true
disallow_untyped_defs = true
follow_imports = "silent"
exclude = [
    "src/usdb_syncer/gui/forms",
    "src/usdb_syncer/gui/resources",
    "src/resources_rc.py",
]

[tool.pyright]
exclude = [
    "src/usdb_syncer/gui/forms",
    "src/usdb_syncer/gui/resources",
    "src/resources_rc.py",
    "venv",
    ".tox",
]
